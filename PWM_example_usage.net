* C:\Users\ukjkin\Documents\GitHub\LTspice_PWM_Source\PWM_example_usage.asc
XX1 my_pwm1 pwm_circuit params: DutyCycle=20 PWM_V=3.3 PWM_f=50k
XX2 my_pwm2 pwm_circuit params: DutyCycle={DutyCycle2} PWM_V=3.3 PWM_f=50k
XX3 my_pwm3 pwm_circuit params: DutyCycle={DutyCycle3} PWM_V=PWM3_V PWM_f=PWM3_f

* block symbol definitions
.subckt pwm_circuit Vpwm
V2 N001 0 PULSE(0 1 0 {0.999/PWM_f} {0.001/PWM_f} 0 {1/PWM_f})
A1 N001 0 0 0 0 0 Vpwm 0 SCHMITT Vt={{100-DutyCycle}/100} Vh=0 Vhigh={PWM_V} Vlow=0 Trise=0.00000000000000001
.ends pwm_circuit

.tran 0.0005
.param DutyCycle2=20
.param DutyCycle3=75
* PWM Signal Generator - Example Usage
* J.Kincell June 2021\nCurrentSauce.co.uk
* Example 1. All parameters are set within.\ni.e. Right Click component, add the PARAMS as shown here.\n(Tick the check box so it apprears in sch)
* Example 2. Some parameters are set within.\nThe duty cycle is set via an 'external' .PARAM placed within the schematic.\nAllows multiple instantiations of different PWM sources
.param PWM3_V=5
.param PWM3_f=25k
* Example 3. All parameters set by external .PARAM statement
.backanno
.end
